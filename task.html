<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>dpr: dance plan revolution</title>

    <!-- mobile-aware viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- stylesheets -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/task.css">

    <!-- JS -->
    <!-- firebase for database and storage -->
    <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
    <script src="js/firebase-credentials.js"></script>

    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- local scripts -->
    <script src="js/announcements.js"></script>
    <script src="js/videos.js"></script>
    <script src="js/task.js"></script>
    <script src="js/attendance.js"></script>
    <script src="js/taskbar.js"></script>
    <script src="js/settings.js"></script>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar-default">
        <ul class="nav nav-pills nav-fill nav-center">
            <li class="nav-item-home"> 
                <a href="#">
                  <span type="button" class="glyphicon glyphicon-home" onclick="goHome()"></span>
                </a>
            </li>
            <li class="nav-item-dpr">
                <a id='logo' href="#" onclick="goToTask()">dance plan revolution</a>
            </li>
            <li class="nav-item-settings">
                <a href="#">
                    <span type="button" class="glyphicon glyphicon-cog" onclick="goToSettings()"></span>
                </a>
            </li>
            <li class="nav-item-dt">
                <li class="nav-item dance-group">
                    <a href="#" onclick="goToTask()" style="font-size: 25px"></a>
                </li>
            </li>
        </ul>
    </nav>
    
    <!-- Secondary navbar for task pages -->
    <nav class="navbar">
        <ul class="taskbar nav nav-pills nav-fill nav-center">
            <li class="nav-item">
                <a class="nav-link" id="0" href="#">Attendance</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="1" href="#">Videos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="2" href="#">Announcements</a>
            </li>
        </ul>
    </nav>
    <!-- Carousel with task info -->
    <container id="carousel">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <div id="myCarousel" class="carousel">
            <!-- Left and right controls -->
            <!--<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>-->

            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <!-- Page title -->
                <div class="panel panel-default" id="panel-title">
                    <h4 class="panel-body task-name"></h4>
                    <form id=searchIcon class="form-search form-inline">
                        <input id="searchText" type="text" class="form-control search-query"/>
                    </form>
                </div>

                <!-- Add New and Filter By-->
                <div class="topButtons">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="btn-group" role="group">
                                <img id="addNew" src="img/green_plus.png"> 

                                <!-- Trigger the modal with a button -->
                                <img id="addNewVideo" src="img/green_plus.png"> 

                                <!-- <img id="datepicker" src="img/calendar.png">  -->
                                <input type="hidden" id="datepicker">
                                <img id="filterByFolder" src="img/folder.png">
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Attendance -->
                <div class="item active">
                    <div id="savedToast" style="float:right">Saved!</div>

                    <div class="Attendance" id="attend">
                        <form class="formBackground" id="newMember" data-toggle="validator" role="form">
                            <h4>Add a New Member</h4>
                            
                            <div class="form-group">
                                <input type="text" class="formInput" id="addMemberKerberos" placeholder="Kerberos, e.g. davidbau" required>
                                <!-- <div class="help-block with-errors">This field is required</div> -->
                                <input type="text" class="formInput" id="addMemberName" placeholder="Full name, e.g. David Bau" required>
                                <!-- <div class="help-block with-errors">This field is required</div> -->

                                <label class="btn btn-default customFileUpload">
                                    <!-- TODO issue: uploadFile is a special id needed by HTML file upload, but I already have another upload
                                    button of the same id below... -->

                                    <!-- <input type="file" id="uploadFile" onchange="choosePhoto()" accept="image/*"">Upload photo -->
                                </label> 

                                <label id='memberImgLabel'></label>
                            </div>

                            <div class="form-group">
                                <div class="text-right">
                                    <button id="cancelMemberButton" type="cancel" class="btn btn-danger">Cancel</button>
                                    <button id="addMemberButton" type="submit" class="btn btn-primary">Add</button>
                                </div>
                            </div>
                        </form> 

                        <table id="attendanceTable" align="center"></table>
                    </div>
                    
                    <button id="saveButton" style="float:right" class="btn btn-primary" onclick="saveAttendance()">Save</button>
                </div>

                <!-- Videos -->
                <div class="item">
                    <div id="videoFolders"></div> 

                    <div class="container formBackground" id="uploadOptions">
                        <div class="row">
                            <div class="col-xs-6" id="localUpload">
                                <a href="#">
                                    <span class="glyphicon glyphicon-upload"></span> Upload from device
                                </a>
                            </div> 

                            <div class="col-xs-6" id="urlUpload">
                                <a href="#">
                                    <span class="glyphicon glyphicon-link"></span> Upload from link
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <form class="formBackground" id="newVideo" data-toggle="validator" role="form">
                        <div class="container" id="videoUploadForm">
                            <div id="videoTextInput">   
                                <input type="text" class="formInput" name="src" id="videoURL" placeholder="Paste a video URL here..."><br> 
                                <input type="text" class="formInput" id="videoNameInput" placeholder="Type video name here...">
                            </div>

                            <div id="fileUpload">
                                <label class="btn btn-default customFileUpload">
                                    <!-- insert multiple keyword if you want to allow multiple vids to be uploaded -->
                                    <input type="file" id="uploadFile" onchange="chooseVideo()" accept="video/*"">Choose video from device
                                </label>

                                <label id='videoNameLabel'></label>

                                <!-- TODO http://stackoverflow.com/questions/36883037/generate-a-thumbnail-snapshot-of-a-video-file-selected-by-a-file-input-at-a-spec -->
                                <!-- <canvas id="thumbnailCanvas"></canvas> -->
                            </div>

                            <div class="form-group" id="folderSelection">
                                <label for="folders">Choose folder for video</label>
                                    <select class="form-control" id="folders">
                                    </select> 
                                <input type="text" class="formInput" id="newFolder" placeholder="Type new folder name here..."> 
                            </div>

                            <div class="form-group" id="videoButtons">
                                <div class="text-right">
                                    <button type="button" class="btn btn-danger" id="cancelVideoPost">Cancel</button>
                                    <button type="button" class="btn btn-primary" onclick="postVideo()" type="submit" id="submitVideo" disabled="disabled">Post</button>
                                    <div id="doneUpload" style="float:center">Done!</div>
                                </div>
                            </div> 
                        </div>
                    </form>

                    <div id="videoDisplay"></div>
                </div>

                <!-- Announcements -->
                <div class="item">
                    <div id="sentToast" style="float:right">Sent announcement to dance team!</div>
                    
                    <div class="announcements">
                        <form class="formBackground" id="newAnnouncement" data-toggle="validator" role="form">
                            <div class="form-group">
                                <div id="dateHeader"></div>
                                <div class="form-group">
                                    <div id="inputText">
                                        <textarea class="form-control" rows="5" id="announcementInp" placeholder="Type announcement here..." data-minlength="15" required></textarea>
                                        <div class="help-block with-errors">Minimum of 15 characters, please!</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="text-right">
                                        <button id="cancelButton" type="cancel" class="btn btn-danger">Cancel</button>
                                        <button id="doneButton" type="submit" class="btn btn-primary">Post</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div id="announcementsDisplay">
                            <!-- announcements loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div> 
        </div> 
    </container>
</body>

</html>